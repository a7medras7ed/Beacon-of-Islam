<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“š Ù…ÙˆØ³ÙˆØ¹Ø© Ø§Ù„Ø£Ø°ÙƒØ§Ø± â€“ Ù…Ù†Ø§Ø±Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…</title>

    <link rel="stylesheet" href="style.css">

    <style>
        .azkar-container {
            padding: 20px;
        }

        .search-box {
            width: 100%;
            padding: 12px;
            border-radius: 12px;
            border: 2px solid #0b5f5f55;
            font-size: 17px;
            margin-bottom: 20px;
        }

        .category-list {
            margin-bottom: 20px;
        }

        .category-item {
            padding: 12px;
            background: #e9f7f7;
            border-radius: 10px;
            margin-bottom: 8px;
            cursor: pointer;
            font-size: 18px;
            transition: 0.2s;
        }

        .category-item:hover,
        .category-item.active {
            background: var(--gold);
            color: #000;
            font-weight: bold;
        }

        .zekr-card {
            backdrop-filter: blur(12px);
            background: rgba(255, 255, 255, 0.16);
            border: 1px solid rgba(255, 255, 255, 0.28);
            border-radius: 16px;
            padding: 18px 16px;
            margin-bottom: 18px;
            box-shadow: 0 3px 20px #0002;
        }

        body.dark .zekr-card {
            background: rgba(0, 0, 0, 0.25);
        }

        .zekr-text {
            font-size: 20px;
            line-height: 2;
            white-space: pre-line;
        }

        .zekr-meta {
            margin-top: 10px;
            color: var(--gold);
        }

        .zekr-source {
            color: #eee;
            font-size: 14px;
        }

        .back-btn {
            margin-top: 25px;
            padding: 12px 25px;
            border-radius: 10px;
            border: none;
            font-size: 18px;
            background: var(--gold);
            cursor: pointer;
        }
    </style>
</head>

<body>

<!-- SIDEBAR -->
<div class="sidebar">
    <h1>Ù…Ù†Ø§Ø±Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…</h1>

    <a href="index.html">ğŸ  Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
    <a href="quran.html">ğŸ“– Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…</a>
    <a href="radios.html">ğŸ“» Ø§Ù„Ø¥Ø°Ø§Ø¹Ø§Øª</a>
    <a href="recitations.html">ğŸ§ Ø§Ù„ØªÙ„Ø§ÙˆØ§Øª</a>
    <a href="azkar.html">ğŸ•Œ Ø§Ù„Ø£Ø°ÙƒØ§Ø±</a>
    <a href="all_azkar.html">ğŸ“š Ù…ÙˆØ³ÙˆØ¹Ø© Ø§Ù„Ø£Ø°ÙƒØ§Ø± Ø§Ù„ÙƒØ§Ù…Ù„Ø©</a>
    <a href="prayer.html">ğŸ•‹ Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø©</a>

    <button class="mode-btn" onclick="toggleMode()">ØªØºÙŠÙŠØ± Ø§Ù„ÙˆØ¶Ø¹</button>
</div>

<!-- MAIN -->
<main>

    <div class="card">

        <h2 class="page-title">ğŸ“š Ù…ÙˆØ³ÙˆØ¹Ø© Ø§Ù„Ø£Ø°ÙƒØ§Ø±</h2>
        <p class="page-subtitle">Ø§Ø®ØªØ± Ù‚Ø³Ù… Ø§Ù„Ø£Ø°ÙƒØ§Ø± Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¨Ø­Ø«</p>

        <!-- Ø§Ù„Ø¨Ø­Ø« -->
        <input type="text" id="searchInput" class="search-box" placeholder="Ø§Ø¨Ø­Ø«..." oninput="searchAzkar()">

        <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù… -->
        <div class="category-list" id="categoryList"></div>

        <hr style="margin:20px 0; border:1px solid #ffffff33;">

        <!-- Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø°ÙƒØ§Ø± -->
        <div id="azkarOutput" class="azkar-container"></div>

    </div>

</main>

<!-- Ù…Ù„ÙØ§Øª Ø§Ù„Ø£Ø°ÙƒØ§Ø± -->
<script src="fullAzkar_morning.js"></script>
<script src="fullAzkar_evening.js"></script>
<script src="fullAzkar_sleep.js"></script>
<script src="fullAzkar_waking.js"></script>
<script src="fullAzkar_prayer.js"></script>
<script src="fullAzkar_tasbeeh.js"></script>
<script src="fullAzkar_ruqya.js"></script>
<script src="fullAzkar_mosque.js"></script>
<script src="fullAzkar_fear.js"></script>

<!-- Ø§Ù„ØªØ¬Ù…ÙŠØ¹ -->
<script src="fullAzkar.js"></script>

<script>

const catList = document.getElementById("categoryList");
const output = document.getElementById("azkarOutput");
const searchBox = document.getElementById("searchInput");

/* Ø¨Ù†Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
for (let cat in fullAzkar) {
    catList.innerHTML += `
        <div class="category-item" id="cat-${cat}"
             onclick="openCategory('${cat}')">${cat}</div>
    `;
}

/* Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© */
function showCategories(show) {
    catList.style.display = show ? "block" : "none";
    searchBox.style.display = show ? "block" : "none";
}

/* ÙØªØ­ Ù‚Ø³Ù… */
function openCategory(cat) {

    showCategories(false); // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©

    const arr = fullAzkar[cat];
    output.innerHTML = "";

    document.querySelectorAll(".category-item").forEach(i => i.classList.remove("active"));
    const selected = document.getElementById("cat-" + cat);
    if (selected) selected.classList.add("active");

    arr.forEach(z => {
        output.innerHTML += `
            <div class="zekr-card">
                <div class="zekr-text">${z.text}</div>
                <div class="zekr-meta">ğŸ” Ø§Ù„ØªÙƒØ±Ø§Ø±: ${z.count}</div>
                <div class="zekr-source">ğŸ“˜ Ø§Ù„Ù…ØµØ¯Ø±: ${z.source}</div>
                ${z.virtue ? `<div class="zekr-meta">ğŸŒ¿ ${z.virtue}</div>` : ""}
            </div>
        `;
    });

    // Ø²Ø± Ø±Ø¬ÙˆØ¹
    output.innerHTML += `
        <button class="back-btn" onclick="backToList()">â¬… Ø±Ø¬ÙˆØ¹ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©</button>
    `;

    window.scrollTo(0, 0);
}

/* Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© */
function backToList() {
    output.innerHTML = "";
    showCategories(true);
}

/* Ø§Ù„Ø¨Ø­Ø« */
function searchAzkar() {
    let q = searchBox.value.trim();
    output.innerHTML = "";

    if (q.length < 2) return;

    showCategories(false);

    for (let cat in fullAzkar) {
        fullAzkar[cat].forEach(z => {
            if (
                z.text.includes(q) ||
                (z.virtue && z.virtue.includes(q)) ||
                z.source.includes(q)
            ) {
                output.innerHTML += `
                    <div class="zekr-card">
                        <div class="zekr-text">${z.text}</div>
                        <div class="zekr-meta">ğŸ” Ø§Ù„ØªÙƒØ±Ø§Ø±: ${z.count}</div>
                        <div class="zekr-source">ğŸ“˜ Ø§Ù„Ù…ØµØ¯Ø±: ${z.source}</div>
                        ${z.virtue ? `<div class="zekr-meta">ğŸŒ¿ ${z.virtue}</div>` : ""}
                    </div>
                `;
            }
        });
    }

    output.innerHTML += `
        <button class="back-btn" onclick="backToList()">â¬… Ø±Ø¬ÙˆØ¹ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©</button>
    `;
}

/* ÙØªØ­ Ù‚Ø³Ù… Ù…Ù† Ø§Ù„Ù‡Ø§Ø´ */
window.addEventListener("load", () => {
    const hash = decodeURIComponent(window.location.hash.replace("#", ""));
    if (hash && fullAzkar[hash]) openCategory(hash);
});

</script>

</body>
</html>
